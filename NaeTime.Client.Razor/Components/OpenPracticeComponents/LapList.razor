<table class="table table-striped">
    <tr>
        <th>
            #
        </th>
        @if (IncludePilot)
        {
            <th>
                Pilot
            </th>
        }
        <th>
            Completed
        </th>
        <th>
            Time
        </th>
        <th>

        </th>
    </tr>
    <tbody>
        @{
            int lapNumber = Laps.Count();
        
            @foreach (var lap in Laps.OrderByDescending(x=>x.FinishedUtc))
            {
                <tr>
                    <td>
                        @(lapNumber--)
                    </td>
                    @if (IncludePilot)
                    {
                        <td>
                            @lap.PilotName
                        </td>
                    }
                    <td>
                        @lap.FinishedUtc
                    </td>
                    <td class="@(lap.Status != Lib.Models.OpenPractice.OpenPracticeLapStatus.Completed ?"text-danger" :"")">
                        @($"{TimeSpan.FromMilliseconds(lap.TotalMilliseconds):mm\\:ss\\:fff}")
                    </td>
                    <td>
                        @if (lap.Status == Lib.Models.OpenPractice.OpenPracticeLapStatus.Completed)
                        {
                            <Button Size=Size.ExtraSmall Color=ButtonColor.Danger @onclick="() => Dispute(lap.Id,lap.PilotId)"><i class="fa-solid fa-exclamation"></i></Button>
                        }
                        <Button Size=Size.ExtraSmall Color=ButtonColor.Secondary @onclick="() => Remove(lap.Id,lap.PilotId)"><i class="fa-solid fa-xmark"></i></Button>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>