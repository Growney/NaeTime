<Microsoft.AspNetCore.Components.Forms.EditForm EditContext="_editContext" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <div>
        <label>Name</label>
        <div>
            <Microsoft.AspNetCore.Components.Forms.InputText @bind-Value="Details.Name" />
            <Microsoft.AspNetCore.Components.Forms.ValidationMessage For="@(() => Details.Name)" />
        </div>
    </div>

    <div>
        <InputSelect @bind-Value=_selectedTimer>
            @foreach (var timer in GetAvailableTimers())
            {
                <option value="@timer.Id">@timer.Name</option>
            })
        </InputSelect>
        <button type="button" @onclick=AddGate class="btn btn-primary"><i class="fa-solid fa-plus"></i></button>
    </div>

    <div>
        @foreach(var timedGate in Details.TimedGates)
        {
            <div class="mt-2">
                <label>@GetTimerName(timedGate.TimerId)</label>
                <button type="button" disabled="@CanMoveUp(timedGate)" @onclick="() => MoveUp(timedGate)" class="btn btn-secondary"><i class="fa-solid fa-arrow-up"></i></button>
                <button type="button" disabled="@CanMoveDown(timedGate)" @onclick="() => MoveDown(timedGate)" class="btn btn-secondary"><i class="fa-solid fa-arrow-down"></i></button>
                <button type="button" @onclick="() => RemoveGate(timedGate)" class="btn btn-secondary"><i class="fa-solid fa-xmark"></i></button>
            </div>
        }
    </div>

    <div class="mt-3">
        <button type="submit" class="btn btn-primary">Save</button>
    </div>

</Microsoft.AspNetCore.Components.Forms.EditForm>

