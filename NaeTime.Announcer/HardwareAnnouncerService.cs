using NaeTime.Announcer.Abstractions;
using NaeTime.Hardware.Messages;

namespace NaeTime.Announcer;
public class HardwareAnnouncerService
{
    private readonly IAnnouncmentQueue _queue;
    private readonly IRemoteProcedureCallClient _rpcClient;
    public HardwareAnnouncerService(IAnnouncmentQueue queue, IRemoteProcedureCallClient rpcClient)
    {
        _queue = queue ?? throw new ArgumentNullException(nameof(queue));
        _rpcClient = rpcClient ?? throw new ArgumentNullException(nameof(rpcClient));
    }

    public void When(TimerConnectionEstablished timerConnected) => _queue.Enqueue(new Models.Announcement("Timer connected"));
    public void When(TimerDisconnected timerDisconnected) => _queue.Enqueue(new Models.Announcement("Timer disconnected"));
}